<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Leeme: DateFirst</title>
</head>
<body>
	<h1>Leeme: DateFirst</h1>

    <h2>Enlace al proyecto en GitHub:</h2>
    <a href="https://github.com/fernag08/G03-DateFirst">https://github.com/fernag08/G03-DateFirst</a>

	<h2>Objetivo</h2>
	<p>
		Una aplicación para facilitar que cualquier usuario pueda concertar una cita con cualquier comercio que esté registrado.
	</p>
	<p>
		Debido a la peculiar situación en la que nos encontramos por causa del Covid-19 hemos tenido la idea de desarrollar una aplicación web 
        con la que podamos facilitar mucho el trabajo de los comercios a la hora de concertar citas. En ella los comercios podrán
        registrarse rellenando una serie de datos relevantes y lo único que tendrán que hacer es generar las citas/reservas que quieran
        ofrecer al público. Cualquier usuario registrado en la aplicación podrá solicitar las citas que quiera, además de poder filtrar
        los comercios por la ciudad, provincia o código postal e incluso buscarlos directamente por su nombre en el buscador. 
	</p>

	<p>
		Soporta los siguientes roles:
		<ul>
        <li>
            El <b>administrador</b> será el encargado de controlar el contenido que proporciona la aplicación web, es decir, se encargará
            de expulsar a los usuarios que hayan incumplido alguna de las normas, supervisará el contenido de los comercios registrados y 
            podrá eliminar dichos comercios en caso de ser necesario.
        </li>
		<li>
            El <b>usuario registrado</b> puede visualizar todos los negocios que están registrados en la aplicación web. Podrá 
            solicitar cualquier reserva disponible en el negocio que quiera, además de poder cancelarla en cualquier momento. Si el
            usuario registrado es propietario de un negocio podrá registrarlo en la aplicación rellenando un formulario con los datos 
            más importantes del mismo, también podrá editar dichos datos y eliminar el negocio. El propietario también podrá generar 
            reservas que el resto de usuarios podrán solicitar y también podrá eliminarlas en caso de ser necesario.
		<li>
            Un <b>usuario no registrado</b> solo podrá visualizar la página y ver los negocios registrados, pero no podrá 
            solicitar ninguna cita ni acceder a ninguna de las funcionalidades relacionadas con los negocios registrados.
		</li>
		</ul>
	</p>
   
	<h2>Base de datos</h2>
	<img src="Arquitectura_BBDD.PNG" alt="Diagrama de la BD">
	
    <h2>Usuarios registrados</h2>
    <p>Aquí proporcionamos la lista con los usuarios registrados para hacer las pruebas y comprobaciones pertinentes</p>
    <ul>
        <li>Username: admin        Password: aa (Usuario administrador propietario)
        <li>Username: Fernango99   Password: aa (Usuario registrado propietario)
        <li>Username: Paulagarci2  Password: aa (Usuario registrado propietario)
        <li>Username: cami         Password: aa (Usuario registrado normal)
    </ul>

	<h2>Vistas</h2>
    <ul>
        <li><a href="http://localhost:8080/">DateFirst</a> Vista de la página principal, con el titulo, una breve descripción, una lista con los comercios registrados y un buscador que te permite hacer una búsqueda de un negocio concreto o filtrar de diferentes formas. Accede a DateFirst.html
        <li><a href="http://localhost:8080/admin">Ver admin</a> Vista del perfil del administrador existente en la BBDD. Accede a admin.html
        <li><a href="http://localhost:8080/user/">Crear usuario</a> Vista para crear un nuevo usuario rellenando un formulario. Accede a nuevoUsuario.html
        <li><a href="http://localhost:8080/user/id">Ver usuario</a> Vista del perfil de un usuario existente en la BBDD. Accede a user.html
        <li><a href="http://localhost:8080/user/id/editar">Editar usuario</a> Vista del perfil de un usuario, pero en esta ocasión con la posibilidad de editar sus datos para actualizar su perfil. Accede a editarUsuario.html
        <li><a href="http://localhost:8080/negocio/">Crear negocio</a> Vista para registrar un nuevo negocio al rellenar un formulario accediendo a nuevoNegocio.html. Para ello el usuario debe de estar logueado
        <li><a href="http://localhost:8080/negocio/id">Ver negocio</a> Vista con la información del negocio existente en la BBDD. Accede a vistaNegocio.html
        <li><a href="http://localhost:8080/negocio/id/editar">Editar negocio</a> Vista con los datos de un negocio, pero en esta ocasión con la posibilidad de editar sus datos para actualizar el negocio. Accede a editarNegocio.html
        <li><a href="http://localhost:8080/negocio/id/genera">Generar reservas</a> Vista con un formulario para rellenar los datos necesarios para generar reservas de un negocio. Accede a generarReservas.html
        <li><a href="http://localhost:8080/negocio/id/eliminarReservas">Eliminar reservas</a> Vista con un formulario para seleccionar la franja horaria y el día de las reservas que se quieren eliminar. Accede a eliminarReservas.html
        <li><a href="http://localhost:8080/reserva/listaReservas">Ver las reservas disponibles</a> Vista con información acerca de las reservas disponibles para un día concreto. Accede a listaReservas.html
        <li><a href="http://localhost:8080/reserva/id">Ver reserva</a> Vista con información de la reserva solicitada en la que el usuario tendrá que rellenar el campo perteneciente al número de personas. Accede a reserva.html
        <li><a href="http://localhost:8080/buscar">Ver negocios buscados</a>Vista de la lista de negocios buscados desde la página DateFirst
        <li><a href="http://localhost:8080/login">Login con un usuario</a>Vista del formulario para que un usuario ya registrado pueda hacer login
        <li><a href="http://localhost:8080/message">Vista de mensajes</a>Vista del usuario para enviar mensajes al propietario de un negocio
    </ul>

    <h2>Comentarios de funcionamiento</h2>
    <p>
       Al acceder a la pagina puede registrarse un usuario, loguearse, o navegar sin identificarse. Si un nuevo usuario quiere registrarse
       debe rellenar todos los campos y asegurarse que las contraseñas coinciden, ya que está bajo la validación de contraseñas, y también 
       deberá introducir un nombre de usuario que no exista en la BBDD.
    </p>
    <p>
       Un usuario registrado será capaz de crear un negocio y de realizar diferentes funcionalidades relacionadas con él. Entre ellas se 
       encuentran generar y gestionar reservas, editar los datos del negocio y eliminar el negocio, siempre que el usuario sea propietario 
       del mismo.
    </p>
    <p>
        Generar reservas: Después de que un nuevo negocio haya sido creado, un usuario puede acceder a él para ver su información desde la página de inicio.
        Una vez ahí, si eres el propietario del negocio, tienes la opción de editar el negocio o generar reservas para ese negocio. Al pulsar en
        generar, el usuario debe rellenar un formulario donde validamos que la fecha y hora de fin sea posterior a la fecha y hora de inicio, así
        como que dichas fechas seleccionadas no sean anteriores al día actual. Después de completar el formulario, al volver a la página del
        negocio se muestran las reservas que tiene el negocio, incluyendo las que han sido generadas.
    </p>
    <p>
        Solicitar una reserva: Un usuario registrado puede solicitar una reserva la visitar un negocio. Ahí el usuario podrá ver un calendario
        con todos los días del mes y las reservas disponibles en cada uno de ellos. Lo único que tendrá que hacer es pinchar en un día con 
        reservas disponibles y posteriormente tendrá que rellenar un formulario en el que se debe indicar el número de personas que asistirán,
        en este formulario también existe una validación para asegurarnos que el número de asistentes no es mayor que el número de plazas
        disponibles en dichas reservas.
    </p>
    <p>
        Cancelar una reserva(un usuario no propietario): Cuando un usuario solicita una reserva, puede verla desde su perfil y tiene la posibilidad de cancelarla. Cuando
        la cancela, la reserva queda en estado de cancelada y el propietario del negocio podrá volver a activar la reserva otra vez cambiando su
        estado a libre desde la vista de su negocio.
    </p>
    <p>
        Confirmar una reserva: Cuando un usuario solicita una reserva, esta se descontara de las reservas disponibles mostradas en el calendario y
        el propietario debera confirmar dicha reserva para considerar esta reserva como valida. 
    </p>
    <p>
        Habilitar una reserva: Cuando un usuario cancela una reserva, esta se quedara con el estado cancelada y el propietario del 
        negocio debe pinchar sobre el botón de Habilitar para marcar esta reserva como libre. 
    </p>
    <p>
        Cancelar una reserva(el propietario del negocio): Desde la lista de reservas que se gerenar al pinchar en un día del calendario,
        el propietario tiene la posibilidad de cancelar tanto las reservas confirmadas como las solicitadas. 
    </p>
    <p>
        Eliminar reservas generadas: Tras generar reservas el propietario del negocio puede elegir eliminar ciertas reservas de modo que ya no esten
        disponibles, para ello se debe indicar el rango de fechas en el que se desea eliminar la reserva y el rango de horas eliminandose todas aquellas 
        reservas que se inicien en dicho rango, incluyendo los limites. También existe la posibilidad de que el usuario propietario quiera cancelar 
        alguna reserva concreta, esto lo podrá hacer desde la lista de reservas disponibles al pinchar en un día del calendario. En este caso las reservas
        se eliminan de la base de datos, pueder usarse si se han generado las reservas de manera incorrecta.
    </p>
    <p>
        Búsqueda de negocios: En la página de inicio de la aplicación, existe un campo de búsqueda donde puedes buscar el negocio que deseas a través de
        los filtros que hay al lado. Según el filtro que pongas, si la búsqueda obtiene un solo resultado, te redirecciona a ese negocio buscado. En cambio,
        si la búsqueda obtiene más de un resultado, te redirecciona a una vista con todos los resultados obtenidos para que allí selecciones el negocio que
        deseas.
    </p>
    <p>
        Eliminar negocio: Hemos implementado esta funcionalidad de tal forma que el propietario de un negocio puede eliminarlo fácilmente
        clickando en un botón que lo borrará al instante, sin necesidad de recargar la página entera.
    </p>
    <p>
        Como se ha mencionado anteriormente, en la vista del negocio hemos implementado un calendario mediante el que se podrán ver las 
        reservas disponibles de cada día perteneciente al mes actual. El usuario lo único que tendrá que hacer es pinchar en el día que 
        prefiera y solicitar una reserva de todas las que hay en la lista.
    </p>

	<h2>Recursos</h2>
    <ul> 
        <li>
            <a href="https://aprenderaprogramar.com/foros/index.php?topic=6037.0">https://aprenderaprogramar.com/foros/index.php?topic=6037.0</a>
            <p>Código utilzado para generar el calendario </p>
        </li>
        <li>
            <a href="https://app.dbdesigner.net/">https://app.dbdesigner.net/</a>
            <p>App utilizada para realizar el diagrama de la BBDD </p>
        </li>
        <li>
            <a href="https://upload.wikimedia.org/wikipedia/commons/7/70/User_icon_BLACK-01.png">https://upload.wikimedia.org/wikipedia/commons/7/70/User_icon_BLACK-01.png</a>
            <p>Extraido de google imágenes con licencia creative commons</p>
        </li>

        <li>
			<a href=https://cdn.pixabay.com/photo/2018/12/24/16/53/shop-icon-3893222_1280.jpg>https://cdn.pixabay.com/photo/2018/12/24/16/53/shop-icon-3893222_1280.jpg</a>
            <p>Extraido de google imágenes con licencia creative commons</p>
        </li>
        <li>
			<a href="https://app.dbdesigner.net/designer/schema/new" >https://app.dbdesigner.net/designer/schema/new </a>
            <p>Enlace proporcionado por el profesor</p>
        </li>
        <li>
			<a href="https://picsum.photos/" >https://picsum.photos/ </a>
            <p>Extraido de imagenes desde The Lorem Ipsum for photos.</p>
        </li>

    </ul>

    <h2>Aspectos que no funcionan del todo</h2>
    <p>
        1. Poder enviar un mensaje al propietario del negocio cuando el usuario reserva o cancela una reserva o enviárselo al usuario cuando es el propietario quien
        cancela o confirma una reserva.
    </p>
    <p>
        2. Hacer que un usuario propietario de varios negocios pueda filtrar los mensajes por negocio.
    </p>

    <h2>Mejoras realizadas después del examen</h2>
        <h3>Realizadas por:</h3>
    <ul> 
        <li>
            Paula Piñuela Monjas
        </li>
        <li>
            Camila Belén Pérez Alaniz 
        </li>
        <li>
            Jorge Borja García
        </li>
        <li>
            Fernando González Zamorano
        </li>
    </ul>

    <h2>Mejoras</h2>
        <ul>     
            <li>
                Pregunta B implementada.
            </li>
            <li>
                Pregunta D implementada.
            </li>
            <li>
                Pregunta E implementada.
            </li>
            <li>
                En el perfil de usuario, ahora aparecen las reservas tanto SOLICITADAS como CONFIRMADAS, y en cada
                una de ellas se especifica su estado en lugar del id, que ya no aparece.
            </li>
            <li>
                Explicación detallada de como obtener la latitud y longitud al crear un nuevo negocio.
            </li>
            <li>
                Cuando se crea un nuevo negocio se pone por defecto deshabilitado y ningún usuario que no sea el
                propietario no podrá verlo, y el negocio solo será visible cuando el administrador lo habilite.
            </li>
            <li>
                Al enviar un mensaje con éxito, el contenido del TextArea se elimina, de esta manera el usuario sabrá 
                que se ha podido enviar y se eviten mensajes duplicados.
            </li>
            <li>
                Hemos pasado el código del mapa del negocio a un archivo .js
            </li>
            <li>
                Hemos arreglado el problema que había al modificar la foto de perfil del usuario, ahora se actualiza correctamente.
            </li>
            <li>
                En los mensajes, hemos implementado la lista de gente que ha escrito a un usuario, haciendo posible que dicho
                usuario pueda escribir a otro que le ha mandado un mensaje previamente, es decir, responder al mensaje previo.
                Si no te ha escrito nadie anteriormente, no se mostrará nada.
            </li>
            <li>
                Al intenter acceder a un negocio que no existe o que no esta habilitado redirige a la página principal, 
                Excepto si eres el propietario de negocio, que podras entrar a ver tu negocio tanto si esta habilidado como si no.
            </li>
            <li>
                Ahora el propietario no puede pinchar en un día del calendario que no tiene reservas disponibles, pero sí en el caso
                de que haya reservas solicitadas, canceladas o confirmadas para poder realizar nuevas acciones sobre ellas.
                Si eres un usuario normal, no puedes pinchar en días en los que no hay reservas.
            </li>
            <li>
                Mejora en los botones de la lista de reservas de un negocio: ya no hay ninguno sin estilo y ahora no se salen de su contenedor.
            </li>
            <li>
                Mejora en los botones de la lista de negocios en perfil de usuario: tiene el mismo estilo que el resto de la página y ahora los botones con estilo.
            </li>
        </ul>
</body>
</html>